<!DOCTYPE html>
<html lang="en">
  <body>
    <p>请点击图像上的星球，把它们放大。</p>

    <img src="eg_planets.jpg" border="0" usemap="#planetmap" alt="Planets" id="bd" />
    <map name="planetmap" id="planetmap">
      <area
        shape="rect"
        coords="0,1,108,263"
        href="#1"
        id="top"
        onclick="showBorder('top')"
      />
      <area
        shape="rect"
        coords="120,151,138,171"
        href="#2"        
        id="top1"
        onclick="showBorder('top1')"
      />
      <area
        shape="rect"
        coords="163,126,193,155"
        href="#3"
        id="top2"
        onclick="showBorder('top2')"
      />
    </map>
    <div id="border" style="display:none; position:absolute;border:2px solid #FF0000; "></div>
    <p>
      <b>注释：</b>img 元素中的 "usemap" 属性引用 map 元素中的 "id" 或 "name"
      属性（根据浏览器），所以我们同时向 map 元素添加了 "id" 和 "name" 属性。
    </p>

    <div style="height:100px;background-color: yellow;overflow-y: auto;">
      <ul>
        <div id="1" style="background-color: pink;" onclick="showBorder('top')">
          <li>1</li>
          <li>1</li>
          <li>1</li>
          <li>1</li>
          <li>1</li>
          <li>1</li>
          <li>1</li>
          <li>1</li>
        </div>
        <div id="2" style="background-color: green;" onclick="showBorder('top1')">
          <li>2</li>
          <li>2</li>
          <li>2</li>
          <li>2</li>
          <li>2</li>
          <li>2</li>
          <li>2</li>
          <li>2</li>
        </div>
        <div id="3" style="background-color: blue;" onclick="showBorder('top2')">
          <li>3</li>
          <li>3</li>
          <li>3</li>
          <li>3</li>
          <li>3</li>
          <li>3</li>
          <li>3</li>
          <li>3</li>
          <li>3</li>
        </div>
        
      </ul>
    </div>
    <script type="text/javascript">
      function showBorder(id){
        console.log(id)
        var img = document.getElementById("bd");
        var div = document.getElementById("border");
        var obj = document.getElementById(id);
        var offset = getOffset(img);
        console.log(obj)
        var coords = obj.coords.split(",");
         
        div.style.display = "block";
        div.style.left = offset.x + parseInt(coords[0]) + "px";
        div.style.top = offset.y + parseInt(coords[1]) + "px";
        div.style.width = parseInt(coords[2]) - parseInt(coords[0]) + "px";
        div.style.height = parseInt(coords[3]) - parseInt(coords[1]) + "px";
      }
      function getOffset(obj){
        var x = obj.offsetLeft, y = obj.offsetTop;
        while(obj.offsetParent){
            obj = obj.offsetParent;
            x += obj.offsetLeft;
            y += obj.offsetTop;
        }
        return {x : x, y : y};
      };
    </script>
  </body>
</html>
