<!DOCTYPE html>
<html lang="en">
  <style type="text/css">
    .box div{
      cursor: pointer;
    }
  </style>
  <body>
    <p>热区</p>
    <img src="eg_planets.jpg" border="0" usemap="#planetmap" alt="Planets" id="bd" />
    <map name="planetmap" id="planetmap">
      <area
        shape="rect"
        coords="0,1,108,263"
        href="#1"
        id="top0,1,108,263"
        onclick="showBorder('top0,1,108,263')"
      />
      <area
        shape="rect"
        coords="120,151,138,171"
        href="#2"        
        id="top120,151,138,171"
        onclick="showBorder('top120,151,138,171')"
      />
      <area
        shape="rect"
        coords="163,126,193,155"
        href="#3"
        id="top163,126,193,155"
        onclick="showBorder('top163,126,193,155')"
      />
    </map>
    <div id="border" style="display:none; position:absolute;border:2px solid #FF0000; "></div>
 

    <div class="box" style="height:100px;background-color: yellow;overflow-y: auto;">
        <div id="1" onclick="showBorder('top0,1,108,263')">
          <table>
            <tr style="background-color:pink;height: 50px">
              <td>100</td>
              <td>100</td>
              <td>100</td>
            </tr>
          </table>
        </div>
        <div id="2" onclick="showBorder('top120,151,138,171')">
          <table>
          <tr style="background-color: green;height: 50px">
            <td>200</td>
            <td>200</td>
            <td>200</td>
          </tr>
          </table>
        </div>
        <div id="3" onclick="showBorder('top163,126,193,155')">
          <table>
          <tr style="background-color: blue;height: 50px">
            <td>300</td>
            <td>300</td>
            <td>300</td>
          </tr>
          </table>
        </div> 
    </div>
    <script type="text/javascript">
      function showBorder(id){
        console.log(id)
        var img = document.getElementById("bd");
        var div = document.getElementById("border");
        var obj = document.getElementById(id);
        var offset = getOffset(img);
        console.log(obj)
        var coords = obj.coords.split(",");
         
        div.style.display = "block";
        div.style.left = offset.x + parseInt(coords[0]) + "px";
        div.style.top = offset.y + parseInt(coords[1]) + "px";
        div.style.width = parseInt(coords[2]) - parseInt(coords[0]) + "px";
        div.style.height = parseInt(coords[3]) - parseInt(coords[1]) + "px";
      }
      function getOffset(obj){
        var x = obj.offsetLeft, y = obj.offsetTop;
        while(obj.offsetParent){
            obj = obj.offsetParent;
            x += obj.offsetLeft;
            y += obj.offsetTop;
        }
        return {x : x, y : y};
      };
    </script>
  </body>
</html>
